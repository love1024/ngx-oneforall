import{a as p}from"./chunk-YGP6TIJZ.js";import"./chunk-3ZVB3ZUX.js";import{a as h}from"./chunk-ZXEVAFUU.js";import{L as D,a as e}from"./chunk-JEISVZZF.js";import{Ha as r,Lb as t,Ma as c,fb as d}from"./chunk-4VR2QSN3.js";import{a as o,b as i,h as F}from"./chunk-DV6QXP24.js";var B=F(D());var u={title:"Hash",mdFile:"./index.md",category:h},s=u;var g=[];var C={},k=C;var m=`<p class="ngde">Fast, non-cryptographic string hashing utilities for generating numeric hash codes.</p><h2 id="usage" href="utils/hash" headinglink="true" class="ngde">Usage<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="usage"></ng-doc-heading-anchor></h2><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">import</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> { hashCode</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> hashCodeWithSalt } </span><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">from</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'ngx-oneforall/utils/hash'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span></code></pre><h3 id="basic-hashing" href="utils/hash" headinglink="true" class="ngde">Basic Hashing<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="basic-hashing"></ng-doc-heading-anchor></h3><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">const</span><span style="color:#005CC5;--shiki-dark:#BFBDB6" class="ngde"> hash</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde"> =</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> hashCode</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">'hello'</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">)</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#ACB6BF8C;font-style:inherit;--shiki-dark-font-style:italic" class="ngde">// hash: -1794106052</span></span></code></pre><h3 id="salted-hashing" href="utils/hash" headinglink="true" class="ngde">Salted Hashing<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="salted-hashing"></ng-doc-heading-anchor></h3><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">const</span><span style="color:#005CC5;--shiki-dark:#BFBDB6" class="ngde"> hash</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde"> =</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> hashCodeWithSalt</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">'hello'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'my-secret-salt'</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">)</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#ACB6BF8C;font-style:inherit;--shiki-dark-font-style:italic" class="ngde">// Different result than hashCode('hello')</span></span></code></pre><h2 id="api" href="utils/hash" headinglink="true" class="ngde">API<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="api"></ng-doc-heading-anchor></h2><div class="ng-doc-table-wrapper ngde"><table class="ngde"><thead class="ngde"><tr class="ngde"><th class="ngde">Function</th><th class="ngde">Description</th></tr></thead><tbody class="ngde"><tr class="ngde"><td class="ngde"><code class="ngde">hashCode(str: string)</code></td><td class="ngde">Generates a 32-bit signed integer hash</td></tr><tr class="ngde"><td class="ngde"><code class="ngde">hashCodeWithSalt(str: string, salt: string)</code></td><td class="ngde">Generates a salted hash using the salt's hash as seed</td></tr></tbody></table></div><h2 id="algorithm" href="utils/hash" headinglink="true" class="ngde">Algorithm<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="algorithm"></ng-doc-heading-anchor></h2><p class="ngde">Uses the DJB2-like algorithm, equivalent to Java's <code class="ngde">String.hashCode()</code>:</p><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-ts"><span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">hash </span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">=</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> ((hash </span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">&#x3C;&#x3C;</span><span style="color:#005CC5;--shiki-dark:#D2A6FF" class="ngde"> 5</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">) </span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">-</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> hash </span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">+</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> charCode) </span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">|</span><span style="color:#005CC5;--shiki-dark:#D2A6FF" class="ngde"> 0</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">     =</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> (hash </span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">*</span><span style="color:#005CC5;--shiki-dark:#D2A6FF" class="ngde"> 31</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde"> +</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> charCode) </span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">|</span><span style="color:#005CC5;--shiki-dark:#D2A6FF" class="ngde"> 0</span></span></code></pre><p class="ngde">The <code class="ngde">| 0</code> ensures 32-bit signed integer truncation.</p><h2 id="use-cases" href="utils/hash" headinglink="true" class="ngde">Use Cases<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="use-cases"></ng-doc-heading-anchor></h2><ul class="ngde"><li class="ngde"><strong class="ngde">Cache Keys</strong>: Generate numeric keys for caching mechanisms</li><li class="ngde"><strong class="ngde">Hash Tables</strong>: Distribute objects across buckets</li><li class="ngde"><strong class="ngde">Quick Comparison</strong>: Fast string equality pre-check</li><li class="ngde"><strong class="ngde">Partitioning</strong>: Consistent assignment to shards/partitions</li></ul><ng-doc-blockquote type="note" class="ngde"><p class="ngde">This is a non-cryptographic hash. Do not use for passwords, security tokens, or any security-sensitive application. Use <code class="ngde">crypto</code> or <code class="ngde">bcrypt</code> instead.</p></ng-doc-blockquote><h2 id="example-cache-key-generation" href="utils/hash" headinglink="true" class="ngde">Example: Cache Key Generation<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="example-cache-key-generation"></ng-doc-heading-anchor></h2><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">function</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> getCacheKey</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#E36209;--shiki-dark:#D2A6FF" class="ngde">userId</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">:</span><span style="color:#005CC5;--shiki-dark:#39BAE6" class="ngde"> string</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#E36209;--shiki-dark:#D2A6FF" class="ngde"> resource</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">:</span><span style="color:#005CC5;--shiki-dark:#39BAE6" class="ngde"> string</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">)</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">:</span><span style="color:#005CC5;--shiki-dark:#39BAE6" class="ngde"> number</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">  return</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> hashCode</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">\`</span><span style="color:#032F62;--shiki-dark:#FF8F40" class="ngde">\${</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">userId</span><span style="color:#032F62;--shiki-dark:#FF8F40" class="ngde">}</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">:</span><span style="color:#032F62;--shiki-dark:#FF8F40" class="ngde">\${</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">resource</span><span style="color:#032F62;--shiki-dark:#FF8F40" class="ngde">}</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">\`</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">)</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">const</span><span style="color:#005CC5;--shiki-dark:#BFBDB6" class="ngde"> key</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde"> =</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> getCacheKey</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">'user-123'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde"> 'profile'</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">)</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">cache</span><span style="color:#24292E;--shiki-dark:#F29668" class="ngde">.</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde">set</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(key</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> data)</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span></code></pre><h2 id="example-consistent-partitioning" href="utils/hash" headinglink="true" class="ngde">Example: Consistent Partitioning<ng-doc-heading-anchor class="ng-doc-anchor ngde" anchor="example-consistent-partitioning"></ng-doc-heading-anchor></h2><pre class="shiki shiki-themes github-light ayu-dark" style="background-color:#fff;--shiki-dark-bg:#0b0e14;color:#24292e;--shiki-dark:#bfbdb6" tabindex="0"><code class="language-typescript"><span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">function</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> getPartition</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#E36209;--shiki-dark:#D2A6FF" class="ngde">key</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">:</span><span style="color:#005CC5;--shiki-dark:#39BAE6" class="ngde"> string</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#E36209;--shiki-dark:#D2A6FF" class="ngde"> partitionCount</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">:</span><span style="color:#005CC5;--shiki-dark:#39BAE6" class="ngde"> number</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">)</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">:</span><span style="color:#005CC5;--shiki-dark:#39BAE6" class="ngde"> number</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> {</span></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">  return</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> Math</span><span style="color:#24292E;--shiki-dark:#F29668" class="ngde">.</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde">abs</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde">hashCode</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(key)) </span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde">%</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde"> partitionCount</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span>
<span class="line"><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;--shiki-dark:#FF8F40" class="ngde">const</span><span style="color:#005CC5;--shiki-dark:#BFBDB6" class="ngde"> partition</span><span style="color:#D73A49;--shiki-dark:#F29668" class="ngde"> =</span><span style="color:#6F42C1;--shiki-dark:#FFB454" class="ngde"> getPartition</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">(</span><span style="color:#032F62;--shiki-dark:#AAD94C" class="ngde">'order-456'</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">,</span><span style="color:#005CC5;--shiki-dark:#D2A6FF" class="ngde"> 8</span><span style="color:#24292E;--shiki-dark:#BFBDB6" class="ngde">)</span><span style="color:#24292E;--shiki-dark:#BFBDB6B3" class="ngde">;</span></span>
<span class="line"><span style="color:#6A737D;--shiki-dark:#ACB6BF8C;font-style:inherit;--shiki-dark-font-style:italic" class="ngde">// Always returns same partition for same key</span></span></code></pre>`,l=class a extends e{pageType="guide";pageContent=m;editSourceFileUrl="https://github.com/love1024/ngx-oneforall/edit/main/projects/ngx-oneforall-docs/src/app/categories/utils/pages/hash/index.md?message=docs(): describe your changes here...";viewSourceFileUrl="https://github.com/love1024/ngx-oneforall/blob/main/projects/ngx-oneforall-docs/src/app/categories/utils/pages/hash/index.md";page=s;demoAssets=k;constructor(){super()}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=r({type:a,selectors:[["ng-doc-page-5wdqrn3k"]],features:[t([{provide:e,useExisting:a},g,s.providers??[]]),c],decls:1,vars:0,template:function(n,f){n&1&&d(0,"ng-doc-page")},dependencies:[p],encapsulation:2,changeDetection:0})},A=[i(o({},(0,B.isRoute)(s.route)?s.route:{}),{path:"",component:l,title:"Hash"})],H=A;export{l as PageComponent,H as default};
